<!DOCTYPE HTML>
<html lang="en_US" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <style>
            @view-transition {
                navigation: auto;
            }
            ::view-transition-old(root),
            ::view-transition-new(root) {
                animation-duration: 0.05s;
            }
        </style>
        <!-- Theme initialization - must run before any CSS loads to prevent flicker -->
        <script>
            (function() {
                var theme;
                try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
                if (theme === null || theme === undefined) {
                    theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light";
                }
                var html = document.documentElement;
                html.setAttribute('data-theme', theme);
                html.setAttribute('data-color-scheme', theme);
                html.className = theme;
            })();
        </script>
        <title>Debugger Extensions | Zed Code Editor Documentation</title>


        <!-- Custom HTML head -->
        <script type="text/javascript" src="../ltd-provenance.js"></script>
        <script type="text/javascript" src="../ltd-current.js"></script>
        <script type="text/javascript" src="../../../ltd-config.js"></script>
        <script type="text/javascript" src="../../../ltd-flyout.js"></script>

        <meta name="description" content="Learn how to use and customize Zed, the fast, collaborative code editor. Official docs on features, configuration, AI tools, and workflows.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../theme/page-toc.css">
        <link rel="stylesheet" href="../theme/plugins.css">
        <link rel="stylesheet" href="../theme/highlight.css">

    </head>
    <body class="no-js">
    <div id="body-container">
        <div class="noise-pattern" style="background-image: url('https://cdn.zed.dev/images/noise.png');"></div>

        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light";
            // Mark as JS-enabled
            document.body.classList.remove('no-js');
            document.body.classList.add('js');
        </script>

        <header class="header-bar">
            <div class="left-container">
                <a href="/" class="logo-nav">
                    <img src="https://zed.dev/logo_icon.webp" class="icon-logo-img" alt="Zed Industries" style="height: 26px;">
                </a>
                <button id="sidebar-toggle" class="icon-button ib-hidden-desktop" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar" aria-expanded="false">
                    <i class="fa fa-bars"></i>
                </button>
            </div>
            <button id="search-toggle" class="search-button" type="button" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                <i class="icon fa fa-search"></i>
                <span class="search-content-desktop">
                    <span class="placeholder">Search docs…</span>
                    <kbd>S</kbd>
                </span>
                <span class="search-content-mobile">
                    <span class="placeholder">Search…</span>
                </span>
            </button>
            <div class="right-container">
                <button id="theme-toggle" class="icon-button" type="button" title="Change Theme" aria-label="Change Theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                    <i class="fa fa-paint-brush"></i>
                </button>

                <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                    <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                    <li role="none"><button role="menuitem" class="theme" id="dark">Dark</button></li>
                </ul>

                <button id="copy-markdown-toggle" class="icon-button ib-hidden-mobile" type="button" title="Copy Page as Markdown" aria-label="Copy page as markdown">
                    <i class="fa fa-copy"></i>
                </button>

                <a class="download-button" href="https://zed.dev/download" title="Download Zed" aria-label="Download Zed">
                    Download
                </a>
            </div>
        </header>

        <div id="page-wrapper" class="page-wrapper">

            <div class="search-container">
                <div id="search-wrapper" class="search-modal hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search…" aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
            </div>

            <nav id="sidebar" class="sidebar" aria-label="Table of contents">
                <div class="sidebar-scrollbox">
                    <ol class="chapter"><li class="chapter-item expanded affix "><li class="part-title">Welcome</li><li class="chapter-item expanded "><a href="../getting-started.html">Getting Started</a></li><li class="chapter-item expanded "><a href="../installation.html">Installation</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../update.html">Update</a></li><li class="chapter-item expanded "><a href="../uninstall.html">Uninstall</a></li></ol></li><li class="chapter-item expanded "><a href="../authentication.html">Authenticate</a></li><li class="chapter-item expanded "><a href="../telemetry.html">Telemetry</a></li><li class="chapter-item expanded "><a href="../troubleshooting.html">Troubleshooting</a></li><li class="chapter-item expanded affix "><li class="part-title">Configuration</li><li class="chapter-item expanded "><a href="../configuring-zed.html">Configuring Zed</a></li><li class="chapter-item expanded "><a href="../configuring-languages.html">Configuring Languages</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../toolchains.html">Toolchains</a></li></ol></li><li class="chapter-item expanded "><a href="../key-bindings.html">Key bindings</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../all-actions.html">All Actions</a></li></ol></li><li class="chapter-item expanded "><a href="../snippets.html">Snippets</a></li><li class="chapter-item expanded "><a href="../themes.html">Themes</a></li><li class="chapter-item expanded "><a href="../icon-themes.html">Icon Themes</a></li><li class="chapter-item expanded "><a href="../visual-customization.html">Visual Customization</a></li><li class="chapter-item expanded "><a href="../vim.html">Vim Mode</a></li><li class="chapter-item expanded "><a href="../helix.html">Helix Mode</a></li><li class="chapter-item expanded "><a href="../ai/privacy-and-security.html">Privacy and Security</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../worktree-trust.html">Worktree Trust</a></li><li class="chapter-item expanded "><a href="../ai/ai-improvement.html">AI Improvement</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">Using Zed</li><li class="chapter-item expanded "><a href="../multibuffers.html">Multibuffers</a></li><li class="chapter-item expanded "><a href="../command-palette.html">Command Palette</a></li><li class="chapter-item expanded "><a href="../command-line-interface.html">Command-line Interface</a></li><li class="chapter-item expanded "><a href="../outline-panel.html">Outline Panel</a></li><li class="chapter-item expanded "><a href="../completions.html">Code Completions</a></li><li class="chapter-item expanded "><a href="../collaboration/overview.html">Collaboration</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../collaboration/channels.html">Channels</a></li><li class="chapter-item expanded "><a href="../collaboration/contacts-and-private-calls.html">Contacts and Private Calls</a></li></ol></li><li class="chapter-item expanded "><a href="../git.html">Git</a></li><li class="chapter-item expanded "><a href="../debugger.html">Debugger</a></li><li class="chapter-item expanded "><a href="../diagnostics.html">Diagnostics</a></li><li class="chapter-item expanded "><a href="../tasks.html">Tasks</a></li><li class="chapter-item expanded "><a href="../tab-switcher.html">Tab Switcher</a></li><li class="chapter-item expanded "><a href="../remote-development.html">Remote Development</a></li><li class="chapter-item expanded "><a href="../dev-containers.html">Dev Containers</a></li><li class="chapter-item expanded "><a href="../environment.html">Environment Variables</a></li><li class="chapter-item expanded "><a href="../repl.html">REPL</a></li><li class="chapter-item expanded affix "><li class="part-title">Platform Support</li><li class="chapter-item expanded "><a href="../windows.html">Windows</a></li><li class="chapter-item expanded "><a href="../linux.html">Linux</a></li><li class="chapter-item expanded affix "><li class="part-title">AI</li><li class="chapter-item expanded "><a href="../ai/overview.html">Overview</a></li><li class="chapter-item expanded "><a href="../ai/agent-panel.html">Agent Panel</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../ai/tools.html">Tools</a></li><li class="chapter-item expanded "><a href="../ai/external-agents.html">External Agents</a></li></ol></li><li class="chapter-item expanded "><a href="../ai/inline-assistant.html">Inline Assistant</a></li><li class="chapter-item expanded "><a href="../ai/edit-prediction.html">Edit Prediction</a></li><li class="chapter-item expanded "><a href="../ai/text-threads.html">Text Threads</a></li><li class="chapter-item expanded "><a href="../ai/rules.html">Rules</a></li><li class="chapter-item expanded "><a href="../ai/mcp.html">Model Context Protocol</a></li><li class="chapter-item expanded "><a href="../ai/configuration.html">Configuration</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../ai/llm-providers.html">LLM Providers</a></li><li class="chapter-item expanded "><a href="../ai/agent-settings.html">Agent Settings</a></li></ol></li><li class="chapter-item expanded "><a href="../ai/subscription.html">Subscription</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../ai/models.html">Models</a></li><li class="chapter-item expanded "><a href="../ai/plans-and-usage.html">Plans and Usage</a></li><li class="chapter-item expanded "><a href="../ai/billing.html">Billing</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">Extensions</li><li class="chapter-item expanded "><a href="../extensions.html">Overview</a></li><li class="chapter-item expanded "><a href="../extensions/installing-extensions.html">Installing Extensions</a></li><li class="chapter-item expanded "><a href="../extensions/developing-extensions.html">Developing Extensions</a></li><li class="chapter-item expanded "><a href="../extensions/capabilities.html">Extension Capabilities</a></li><li class="chapter-item expanded "><a href="../extensions/languages.html">Language Extensions</a></li><li class="chapter-item expanded "><a href="../extensions/debugger-extensions.html" class="active">Debugger Extensions</a></li><li class="chapter-item expanded "><a href="../extensions/themes.html">Theme Extensions</a></li><li class="chapter-item expanded "><a href="../extensions/icon-themes.html">Icon Theme Extensions</a></li><li class="chapter-item expanded "><a href="../extensions/slash-commands.html">Slash Command Extensions</a></li><li class="chapter-item expanded "><a href="../extensions/agent-servers.html">Agent Server Extensions</a></li><li class="chapter-item expanded "><a href="../extensions/mcp-extensions.html">MCP Server Extensions</a></li><li class="chapter-item expanded affix "><li class="part-title">Coming From...</li><li class="chapter-item expanded "><a href="../migrate/vs-code.html">VS Code</a></li><li class="chapter-item expanded "><a href="../migrate/intellij.html">IntelliJ IDEA</a></li><li class="chapter-item expanded "><a href="../migrate/pycharm.html">PyCharm</a></li><li class="chapter-item expanded "><a href="../migrate/webstorm.html">WebStorm</a></li><li class="chapter-item expanded "><a href="../migrate/rustrover.html">RustRover</a></li><li class="chapter-item expanded affix "><li class="part-title">Language Support</li><li class="chapter-item expanded "><a href="../languages.html">All Languages</a></li><li class="chapter-item expanded "><a href="../languages/ansible.html">Ansible</a></li><li class="chapter-item expanded "><a href="../languages/asciidoc.html">AsciiDoc</a></li><li class="chapter-item expanded "><a href="../languages/astro.html">Astro</a></li><li class="chapter-item expanded "><a href="../languages/bash.html">Bash</a></li><li class="chapter-item expanded "><a href="../languages/biome.html">Biome</a></li><li class="chapter-item expanded "><a href="../languages/c.html">C</a></li><li class="chapter-item expanded "><a href="../languages/cpp.html">C++</a></li><li class="chapter-item expanded "><a href="../languages/csharp.html">C#</a></li><li class="chapter-item expanded "><a href="../languages/clojure.html">Clojure</a></li><li class="chapter-item expanded "><a href="../languages/css.html">CSS</a></li><li class="chapter-item expanded "><a href="../languages/dart.html">Dart</a></li><li class="chapter-item expanded "><a href="../languages/deno.html">Deno</a></li><li class="chapter-item expanded "><a href="../languages/diff.html">Diff</a></li><li class="chapter-item expanded "><a href="../languages/docker.html">Docker</a></li><li class="chapter-item expanded "><a href="../languages/elixir.html">Elixir</a></li><li class="chapter-item expanded "><a href="../languages/elm.html">Elm</a></li><li class="chapter-item expanded "><a href="../languages/emmet.html">Emmet</a></li><li class="chapter-item expanded "><a href="../languages/erlang.html">Erlang</a></li><li class="chapter-item expanded "><a href="../languages/fish.html">Fish</a></li><li class="chapter-item expanded "><a href="../languages/gdscript.html">GDScript</a></li><li class="chapter-item expanded "><a href="../languages/gleam.html">Gleam</a></li><li class="chapter-item expanded "><a href="../languages/glsl.html">GLSL</a></li><li class="chapter-item expanded "><a href="../languages/go.html">Go</a></li><li class="chapter-item expanded "><a href="../languages/groovy.html">Groovy</a></li><li class="chapter-item expanded "><a href="../languages/haskell.html">Haskell</a></li><li class="chapter-item expanded "><a href="../languages/helm.html">Helm</a></li><li class="chapter-item expanded "><a href="../languages/html.html">HTML</a></li><li class="chapter-item expanded "><a href="../languages/java.html">Java</a></li><li class="chapter-item expanded "><a href="../languages/javascript.html">JavaScript</a></li><li class="chapter-item expanded "><a href="../languages/julia.html">Julia</a></li><li class="chapter-item expanded "><a href="../languages/json.html">JSON</a></li><li class="chapter-item expanded "><a href="../languages/jsonnet.html">Jsonnet</a></li><li class="chapter-item expanded "><a href="../languages/kotlin.html">Kotlin</a></li><li class="chapter-item expanded "><a href="../languages/lua.html">Lua</a></li><li class="chapter-item expanded "><a href="../languages/luau.html">Luau</a></li><li class="chapter-item expanded "><a href="../languages/makefile.html">Makefile</a></li><li class="chapter-item expanded "><a href="../languages/markdown.html">Markdown</a></li><li class="chapter-item expanded "><a href="../languages/nim.html">Nim</a></li><li class="chapter-item expanded "><a href="../languages/ocaml.html">OCaml</a></li><li class="chapter-item expanded "><a href="../languages/opentofu.html">OpenTofu</a></li><li class="chapter-item expanded "><a href="../languages/php.html">PHP</a></li><li class="chapter-item expanded "><a href="../languages/powershell.html">PowerShell</a></li><li class="chapter-item expanded "><a href="../languages/prisma.html">Prisma</a></li><li class="chapter-item expanded "><a href="../languages/proto.html">Proto</a></li><li class="chapter-item expanded "><a href="../languages/purescript.html">PureScript</a></li><li class="chapter-item expanded "><a href="../languages/python.html">Python</a></li><li class="chapter-item expanded "><a href="../languages/r.html">R</a></li><li class="chapter-item expanded "><a href="../languages/rego.html">Rego</a></li><li class="chapter-item expanded "><a href="../languages/rst.html">ReStructuredText</a></li><li class="chapter-item expanded "><a href="../languages/racket.html">Racket</a></li><li class="chapter-item expanded "><a href="../languages/roc.html">Roc</a></li><li class="chapter-item expanded "><a href="../languages/ruby.html">Ruby</a></li><li class="chapter-item expanded "><a href="../languages/rust.html">Rust</a></li><li class="chapter-item expanded "><a href="../languages/scala.html">Scala</a></li><li class="chapter-item expanded "><a href="../languages/scheme.html">Scheme</a></li><li class="chapter-item expanded "><a href="../languages/sh.html">Shell Script</a></li><li class="chapter-item expanded "><a href="../languages/sql.html">SQL</a></li><li class="chapter-item expanded "><a href="../languages/svelte.html">Svelte</a></li><li class="chapter-item expanded "><a href="../languages/swift.html">Swift</a></li><li class="chapter-item expanded "><a href="../languages/tailwindcss.html">Tailwind CSS</a></li><li class="chapter-item expanded "><a href="../languages/terraform.html">Terraform</a></li><li class="chapter-item expanded "><a href="../languages/toml.html">TOML</a></li><li class="chapter-item expanded "><a href="../languages/typescript.html">TypeScript</a></li><li class="chapter-item expanded "><a href="../languages/uiua.html">Uiua</a></li><li class="chapter-item expanded "><a href="../languages/vue.html">Vue</a></li><li class="chapter-item expanded "><a href="../languages/xml.html">XML</a></li><li class="chapter-item expanded "><a href="../languages/yaml.html">YAML</a></li><li class="chapter-item expanded "><a href="../languages/yara.html">Yara</a></li><li class="chapter-item expanded "><a href="../languages/yarn.html">Yarn</a></li><li class="chapter-item expanded "><a href="../languages/zig.html">Zig</a></li><li class="chapter-item expanded affix "><li class="part-title">Developing Zed</li><li class="chapter-item expanded "><a href="../development.html">Developing Zed</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../development/macos.html">macOS</a></li><li class="chapter-item expanded "><a href="../development/linux.html">Linux</a></li><li class="chapter-item expanded "><a href="../development/windows.html">Windows</a></li><li class="chapter-item expanded "><a href="../development/freebsd.html">FreeBSD</a></li><li class="chapter-item expanded "><a href="../development/debuggers.html">Using Debuggers</a></li><li class="chapter-item expanded "><a href="../performance.html">Performance</a></li><li class="chapter-item expanded "><a href="../development/glossary.html">Glossary</a></li></ol></li><li class="chapter-item expanded "><a href="../development/release-notes.html">Release Notes</a></li><li class="chapter-item expanded "><a href="../development/debugging-crashes.html">Debugging Crashes</a></li></ol>
                </div>
                <div style="display: none;" id="sidebar-resize-handle" class="sidebar-resize-handle">
                    <div class="sidebar-resize-indicator"></div>
                </div>
            </nav>

            <!-- Mobile sidebar toggle -->
            <script>
                (function() {
                    var sidebarToggle = document.getElementById('sidebar-toggle');
                    var sidebar = document.getElementById('sidebar');

                    sidebarToggle.addEventListener('click', function() {
                        var isOpen = document.body.classList.toggle('sidebar-open');
                        sidebarToggle.setAttribute('aria-expanded', isOpen);
                        sidebar.setAttribute('aria-hidden', !isOpen);
                    });

                    // Close sidebar when clicking a link inside it (on mobile)
                    sidebar.addEventListener('click', function(e) {
                        if (e.target.tagName === 'A' && window.innerWidth < 620) {
                            document.body.classList.remove('sidebar-open');
                            sidebarToggle.setAttribute('aria-expanded', 'false');
                            sidebar.setAttribute('aria-hidden', 'true');
                        }
                    });
                })();
            </script>

            <!-- Search backdrop handlers -->
            <script>
                (function() {
                    var searchWrapper = document.getElementById('search-wrapper');
                    var searchContainer = document.querySelector('.search-container');
                    var searchResults = document.getElementById('searchresults');

                    if (!searchWrapper || !searchContainer) return;

                    searchContainer.addEventListener('click', function(e) {
                        if (e.target === searchContainer) {
                            searchWrapper.classList.add('hidden');
                        }
                    });

                    if (searchResults) {
                        searchResults.addEventListener('click', function(e) {
                            if (e.target.tagName === 'A' || e.target.closest('a')) {
                                searchWrapper.classList.add('hidden');
                            }
                        });
                    }
                })();
            </script>

            <!-- Insert section spacers and apply collapsed state before scroll restoration to prevent layout shift/flicker -->
            <script>
                (function() {
                    var chapterList = document.querySelector('#sidebar ol.chapter');
                    if (!chapterList) return;

                    var collapsedSections = [];
                    try {
                        var stored = sessionStorage.getItem('sidebar-collapsed-sections');
                        if (stored) {
                            collapsedSections = JSON.parse(stored);
                        }
                    } catch (e) {}

                    var partTitles = chapterList.querySelectorAll('li.part-title');
                    var previousPartTitle = null;

                    partTitles.forEach(function(partTitle, index) {
                        partTitle._sectionName = partTitle.textContent.trim();

                        // Insert a spacer before this part-title (except for the first one)
                        if (index > 0) {
                            var spacer = document.createElement('li');
                            spacer.className = 'section-spacer';
                            partTitle.parentNode.insertBefore(spacer, partTitle);

                            if (previousPartTitle) {
                                previousPartTitle._spacerAfter = spacer;
                            }
                        }

                        var isCollapsed = collapsedSections.includes(partTitle._sectionName);
                        if (isCollapsed) {
                            // Hide all siblings until next part-title
                            var sibling = partTitle.nextElementSibling;
                            while (sibling && !sibling.classList.contains('part-title')) {
                                sibling.classList.add('section-hidden');
                                sibling = sibling.nextElementSibling;
                            }
                            // Hide the spacer after this section (will be set on next iteration)
                            partTitle._isCollapsed = true;
                        }

                        // If previous section was collapsed, hide its spacer
                        if (previousPartTitle && previousPartTitle._isCollapsed && previousPartTitle._spacerAfter) {
                            previousPartTitle._spacerAfter.classList.add('section-hidden');
                        }

                        previousPartTitle = partTitle;
                    });

                    // Handle the last section's spacer if it was collapsed
                    if (previousPartTitle && previousPartTitle._isCollapsed && previousPartTitle._spacerAfter) {
                        previousPartTitle._spacerAfter.classList.add('section-hidden');
                    }
                })();
            </script>

            <!-- Track and set sidebar scroll position -->
            <script>
                var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
                sidebarScrollbox.addEventListener('click', function(e) {
                    if (e.target.tagName === 'A') {
                        sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                    }
                }, { passive: true });
                var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
                sessionStorage.removeItem('sidebar-scroll');
                if (sidebarScrollTop) {
                    // preserve sidebar scroll position when navigating via links within sidebar
                    sidebarScrollbox.scrollTop = sidebarScrollTop;
                } else {
                    // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                    var activeSection = document.querySelector('#sidebar .active');
                    if (activeSection) {
                        activeSection.scrollIntoView({ block: 'center' });
                    }
                }
            </script>

            <div class="page">
                <div id="content" class="content">
                    <main>
                      <h1 id="debugger-extensions"><a class="header" href="#debugger-extensions">Debugger Extensions</a></h1>
<p><a href="https://microsoft.github.io/debug-adapter-protocol">Debug Adapter Protocol</a> Servers can be exposed as extensions for use in the <a href="../debugger.html">debugger</a>.</p>
<h2 id="defining-debugger-extensions"><a class="header" href="#defining-debugger-extensions">Defining Debugger Extensions</a></h2>
<p>A given extension may provide one or more DAP servers.
Each DAP server must be registered in the <code>extension.toml</code>:</p>
<pre><code class="language-toml">[debug_adapters.my-debug-adapter]
# Optional relative path to the JSON schema for the debug adapter configuration schema. Defaults to `debug_adapter_schemas/$DEBUG_ADAPTER_NAME_ID.json`.
# Note that while this field is optional, a schema is mandatory.
schema_path = "relative/path/to/schema.json"
</code></pre>
<p>Then, in the Rust code for your extension, implement the <code>get_dap_binary</code> method on your extension:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>impl zed::Extension for MyExtension {
    fn get_dap_binary(
        &amp;mut self,
        adapter_name: String,
        config: DebugTaskDefinition,
        user_provided_debug_adapter_path: Option&lt;String&gt;,
        worktree: &amp;Worktree,
    ) -&gt; Result&lt;DebugAdapterBinary, String&gt;;
}
<span class="boring">}</span></code></pre></pre>
<p>This method should return the command to start up a debug adapter protocol server, along with any arguments or environment variables necessary for it to function.</p>
<p>If you need to download the DAP server from an external source—like GitHub Releases or npm—you can also do that in this function. Make sure to check for updates only periodically, as this function is called whenever a user spawns a new debug session with your debug adapter.</p>
<p>You must also implement <code>dap_request_kind</code>. This function is used to determine whether a given debug scenario will <em>launch</em> a new debuggee or <em>attach</em> to an existing one.
We also use it to determine that a given debug scenario requires running a <em>locator</em>.</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>impl zed::Extension for MyExtension {
    fn dap_request_kind(
        &amp;mut self,
        _adapter_name: String,
        _config: Value,
    ) -&gt; Result&lt;StartDebuggingRequestArgumentsRequest, String&gt;;
}
<span class="boring">}</span></code></pre></pre>
<p>These two functions are sufficient to expose your debug adapter in <code>debug.json</code>-based user workflows, but you should strongly consider implementing <code>dap_config_to_scenario</code> as well.</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>impl zed::Extension for MyExtension {
    fn dap_config_to_scenario(
        &amp;mut self,
        _adapter_name: DebugConfig,
    ) -&gt; Result&lt;DebugScenario, String&gt;;
}
<span class="boring">}</span></code></pre></pre>
<p><code>dap_config_to_scenario</code> is used when the user spawns a session via new process modal UI. At a high level, it takes a generic debug configuration (that isn't specific to any
debug adapter) and tries to turn it into a concrete debug scenario for your adapter.
Put another way, it is supposed to answer the question: "Given a program, a list of arguments, current working directory and environment variables, what would the configuration for spawning this debug adapter look like?".</p>
<h2 id="defining-debug-locators"><a class="header" href="#defining-debug-locators">Defining Debug Locators</a></h2>
<p>Zed offers an automatic way to create debug scenarios with <em>debug locators</em>.
A locator locates the debug target and figures out how to spawn a debug session for it. Thanks to locators, we can automatically convert existing user tasks (e.g. <code>cargo run</code>) and convert them into debug scenarios (e.g. <code>cargo build</code> followed by spawning a debugger with <code>target/debug/my_program</code> as the program to debug).</p>
<blockquote>
<p>Your extension can define its own debug locators even if it does not expose a debug adapter. We strongly recommend doing so when your extension already exposes language tasks, as it allows users to spawn a debug session without having to manually configure the debug adapter.</p>
</blockquote>
<p>Locators can (but don't have to) be agnostic to the debug adapter they are used with. They are simply responsible for locating the debug target and figuring out how to spawn a debug session for it. This allows for a more flexible and extensible debugging experience.</p>
<p>Your extension can define one or more debug locators. Each debug locator must be registered in the <code>extension.toml</code>:</p>
<pre><code class="language-toml">[debug_locators.my-debug-locator]
</code></pre>
<p>Locators have two components.
First, each locator is ran on each available task to figure out if any of the available locators can provide a debug scenario for a given task. This is done by calling <code>dap_locator_create_scenario</code>.</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>impl zed::Extension for MyExtension {
    fn dap_locator_create_scenario(
        &amp;mut self,
        _locator_name: String,
        _build_task: TaskTemplate,
        _resolved_label: String,
        _debug_adapter_name: String,
    ) -&gt; Option&lt;DebugScenario&gt;;
}
<span class="boring">}</span></code></pre></pre>
<p>This function should return <code>Some</code> debug scenario when that scenario defines a debugging counterpart to a given user task.
Note that a <code>DebugScenario</code> can include a <a href="../debugger.html#build-tasks">build task</a>. If there is one, we will execute <code>run_dap_locator</code> after a build task is finished successfully.</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>impl zed::Extension for MyExtension {
    fn run_dap_locator(
        &amp;mut self,
        _locator_name: String,
        _build_task: TaskTemplate,
    ) -&gt; Result&lt;DebugRequest, String&gt;;
}
<span class="boring">}</span></code></pre></pre>
<p><code>run_dap_locator</code> is useful in case you cannot determine a build target deterministically. Some build systems may produce artifacts whose names are not known up-front.
Note however that you do <em>not</em> need to go through a 2-phase resolution; if you can determine the full debug configuration with just <code>dap_locator_create_scenario</code>, you can omit <code>build</code> property on a returned <code>DebugScenario</code>. Please also note that your locator <strong>will be</strong> called with tasks it's unlikely to accept; thus you should take some effort to return <code>None</code> early before performing any expensive operations.</p>
<h2 id="available-extensions"><a class="header" href="#available-extensions">Available Extensions</a></h2>
<p>Check out all the DAP servers that have already been exposed as extensions <a href="https://zed.dev/extensions?filter=debug-adapters">on Zed's site</a>.</p>
<p>We recommend taking a look at their repositories as a way to understand how they are generally created and structured.</p>
<h2 id="testing"><a class="header" href="#testing">Testing</a></h2>
<p>To test your new Debug Adapter Protocol server extension, you can <a href="./developing-extensions.html#developing-an-extension-locally">install it as a dev extension</a>.</p>

                        <div class="footer-buttons">
                            <a rel="prev" href="../extensions/languages.html" class="footer-button" title="Language Extensions">
                                <i class="fa fa-angle-left"></i>
                                Language Extensions
                            </a>
                            <a rel="next" href="../extensions/themes.html" class="footer-button" title="Theme Extensions">
                                Theme Extensions
                                <i class="fa fa-angle-right"></i>
                            </a>
                        </div>
                    </main>
                    <div class="toc-container">
                        <nav class="pagetoc"></nav>
                    </div>
                    <!-- Immediately detect if page has headins that are not h1 to prevent flicker -->
                    <script>
                        (function() {
                            var tocContainer = document.querySelector('.toc-container');
                            var headers = document.querySelectorAll('.header');
                            var hasNonH1Headers = false;
                            for (var i = 0; i < headers.length; i++) {
                                var parent = headers[i].parentElement;
                                if (parent && !parent.tagName.toLowerCase().startsWith('h1')) {
                                    hasNonH1Headers = true;
                                    break;
                                }
                            }
                            if (hasNonH1Headers) {
                                tocContainer.classList.add('has-toc');
                            } else {
                                tocContainer.classList.add('no-toc');
                            }
                        })();
                    </script>
                </div>
            </div>
        </div>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../theme/page-toc.js"></script>
        <script src="../theme/plugins.js"></script>


        <!-- Amplitude Analytics -->
        <script>
          (function() {
            var amplitudeKey = '';
            if (amplitudeKey && amplitudeKey.indexOf('#') === -1) {
              var script = document.createElement('script');
              script.src = 'https://cdn.amplitude.com/script/' + amplitudeKey + '.js';
              script.onload = function() {
                window.amplitude.init(amplitudeKey, {
                  fetchRemoteConfig: true,
                  autocapture: true
                });
              };
              document.head.appendChild(script);
            }
          })();
        </script>
    </div>
    </body>
</html>
